<!--  Title  -->
<mat-toolbar class="title">
  <mat-toolbar-row>
    <h6 class="name-page">Chi tiết phản ánh</h6>
  </mat-toolbar-row>
</mat-toolbar>

<div class="container">
  <mat-card>
    <mat-card-title>
      <button
        [ngClass]="
          status === 0
            ? 'btn-wait-process'
            : 'btn-processed'
        "
      >
        {{ petition.status }}
      </button>
      Phản ánh về trật tự đô thị
    </mat-card-title>

    <div class="button-action">
      <!-- Btn cập nhật -->
      <button mat-button class="fs-13" (click)="openDialogUpdatePetition()">
        <mat-icon fontSet="material-icons-outlined"> create </mat-icon>
        Cập nhật
      </button>

      <!-- Btn tiếp nhận -->
      <button
        mat-button
        class="ml-1 fs-13"
        (click)="openDialogAcceptPetition()"
      >
        <mat-icon fontSet="material-icons-outlined"> done_outline </mat-icon>
        Tiếp nhận
      </button>

      <!-- Btn hủy -->
      <button
        mat-button
        class="ml-1 fs-13"
        (click)="openDialogDelelePetition()"
      >
        <mat-icon fontSet="material-icons-outlined"> highlight_off </mat-icon>
        Hủy
      </button>
    </div>
    <!-- div button-action -->

    <table class="table-content">
      <tr>
        <td class="col-1-content">
          <!-- Thông tin phản ánh -->
          <h4>Thông tin phản ánh</h4>
          <table class="table-info-petition">
            <tr>
              <td class="td-1">Chuyên mục:</td>
              <td class="td-2">Giao thông, Y tế</td>
            </tr>
            <tr>
              <td class="td-1">Thời gian xảy ra:</td>
              <td class="td-2">11/12/2019 14:00:00</td>
            </tr>
            <tr>
              <td class="td-1">Ngày phản ánh:</td>
              <td class="td-2">11/12/2019 15:00:00</td>
            </tr>
            <tr>
              <td class="td-1">Người gửi:</td>
              <td class="td-2">La Văn Tam</td>
            </tr>
            <tr>
              <td class="td-1">Nơi tạo phản ánh:</td>
              <td class="td-2">
                Số 122, Ấp Bắc, Thành phố Mỹ Tho, Tỉnh Tiền Giang (
                <button class="btn-map">
                  <mat-icon fontSet="material-icons-outlined" class="icon-map">
                    place
                  </mat-icon>
                  Xem bản đồ</button
                >)
              </td>
            </tr>
            <tr>
              <td class="td-1">Địa điểm phản ánh:</td>
              <td>
                Số 122, Ấp Bắc, Thành phố Mỹ Tho, Tỉnh Tiền Giang (
                <button class="btn-map">
                  <mat-icon fontSet="material-icons-outlined" class="icon-map">
                    place
                  </mat-icon>
                  Xem bản đồ</button
                >)
              </td>
            </tr>
          </table>
          <!-- Thông tin phản ánh -->

          <!-- Nội dung phản ánh -->
          <h4 class="mt-2">Nội dung</h4>
          <table class="table-content-petition">
            <tr>
              Vào 6h20 phút ngày 12/12 trước cổng trường tiểu học Lê Lợi tình
              trạng đổ xe gây mất an toàn giao thông tắc đường mong quý cơ quan
              vào cuộc xử lý.
            </tr>
          </table>
          <!-- Nội dung phản ánh -->

          <!-- File đính kèm -->
          <h4 class="mt-2">Đính kèm</h4>
          <!-- File đính kèm -->

          <!-- Lịch sử - hoạt động -->
          <h4 class="mt-2">Hoạt động</h4>
          <mat-tab-group>
            <!-- Bình luận -->
            <mat-tab label="Bình luận">
              <mat-tree
                [dataSource]="commentDataSource"
                [treeControl]="treeControl"
                class="tree"
              >
                <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
                  {{ node.name }}
                </mat-tree-node>
                <mat-nested-tree-node
                  *matTreeNodeDef="let node; when: hasChild"
                >
                  <div class="mat-tree-node">
                    <button
                      mat-icon-button
                      matTreeNodeToggle
                      [attr.aria-label]="'toggle ' + node.name"
                      style="border: none;"
                    >
                      <mat-icon class="mat-icon-rtl-mirror">
                        {{
                          treeControl.isExpanded(node)
                            ? "expand_more"
                            : "chevron_right"
                        }}
                      </mat-icon>
                    </button>
                    <span class="name-user"> {{ node.name }} </span>
                    <span class="action">
                      &nbsp;đã bình luận - {{ node.time }}
                    </span>
                  </div>
                  <ul [class.tree-invisible]="treeControl.isExpanded(node)">
                    <ng-container matTreeNodeOutlet></ng-container>
                  </ul>
                  <mat-divider></mat-divider>
                </mat-nested-tree-node>
              </mat-tree>

              <button mat-button class="mt-10" (click)="openDialogCommentPetition()">
                <mat-icon fontSet="material-icons-outlined">
                  insert_comment
                </mat-icon>
                Bình luận
              </button>
            </mat-tab>
            <!-- Bình luận -->

            <!-- Lịch sử -->
            <mat-tab label="Lịch sử">
              <mat-card class="card-history">
                <mat-card-subtitle>
                  <span class="name-user"> Nguyễn Văn A </span>
                  <span class="action">
                    &nbsp;đã bình luận - 13/12/2019 12:30:00
                  </span>
                </mat-card-subtitle>
              </mat-card>
              <mat-card class="card-history">
                <mat-card-subtitle>
                  <span class="name-user"> Nguyễn Văn A </span>
                  <span class="action">
                    &nbsp;đã bình luận - 13/12/2019 13:30:00
                  </span>
                </mat-card-subtitle>
              </mat-card>
              <mat-card class="card-history">
                <mat-card-subtitle>
                  <span class="name-user"> Nguyễn Văn A </span>
                  <span class="action">
                    &nbsp;đã thay đổi - 14/12/2019 16:00:00
                  </span>
                  <table class="mt-05">
                    <tr class="fw-500">
                      <td class="width-19 action">Trường</td>
                      <td class="width-39 action">Giá trị cũ</td>
                      <td class="width-39 action">Giá trị mới</td>
                    </tr>
                    <tr>
                      <td class="width-19 action">Trạng thái</td>
                      <td class="width-39 action">Chờ tiếp nhận</td>
                      <td class="width-39 action">Đã tiếp nhận</td>
                    </tr>
                  </table>
                </mat-card-subtitle>
              </mat-card>
            </mat-tab>
            <!-- Lịch sử -->
          </mat-tab-group>
          <!-- Lịch sử - hoạt động -->
        </td>
        <!-- col-1-content -->

        <td class="col-2-content"></td>
        <!-- col-2-content -->

        <td class="col-3-content">
          <!-- Thông tin xử lý -->
          <h4>Thông tin người phản ánh</h4>
          <table class="table-info-process">
            <tr>
              <td class="td-1 width-40">Người gửi:</td>
              <td class="td-2 width-60">La Văn Tam</td>
            </tr>
            <tr>
              <td class="td-1 width-40">Số điện thoại:</td>
              <td class="td-2 width-60">0941234567</td>
            </tr>
            <tr>
              <td class="td-1 width-40">CMND</td>
              <td class="td-2 width-60">331223344</td>
            </tr>
            <tr>
              <td class="td-1 width-40">Đối tượng</td>
              <td class="td-2 width-60">Cá nhân</td>
            </tr>
            <tr>
              <td class="td-1 width-40">Địa chỉ</td>
              <td class="td-2 width-60">
                Số 122, Ấp Bắc, Thành phố Mỹ Tho, Tỉnh Tiền Giang (
                <button class="btn-map">
                  <mat-icon fontSet="material-icons-outlined" class="icon-map">
                    place
                  </mat-icon>
                  Xem bản đồ</button
                >)
              </td>
            </tr>
          </table>
          <!-- Table thông tin xử lý -->

          <!-- Kết quả xử lý -->
          <h4 class="mt-2">Kết quả xử lý</h4>
          <table class="table-result">
            <tr>
              <td class="td-1 width-40">Công việc:</td>
              <td class="td-2 width-60">
                <button class="btn-receive">Tiếp nhận</button>
              </td>
            </tr>
            <tr>
              <td class="td-1 width-40">Công khai:</td>
              <td class="td-2 width-60">
                <button class="btn-none-public">Chưa công khai</button>
              </td>
            </tr>
          </table>
          <!-- File đính kèm kết quả xử lý -->
        </td>
        <!-- col-3-content -->
      </tr>
    </table>
    <!-- table content -->
  </mat-card>
</div>
<!-- div container -->
