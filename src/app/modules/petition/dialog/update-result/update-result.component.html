<h3 mat-dialog-title class="dialog_title"> Cập nhật kết quả </h3>
<form [formGroup]="updateForm" (submit)="onSubmit()">
  <form [formGroup]="result">
    <!-- Nội dung kết quả -->
    <h4 class="fw-500"> Thông tin phản ánh </h4>
    <mat-form-field appearance="outline" class="full-input">
      <mat-label> Nội dung </mat-label>
      <textarea matInput formControlName="content"></textarea>
    </mat-form-field>

    <mat-checkbox formControlName="isPublic" (change)="checkPublic($event)">
      Công khai
    </mat-checkbox>
    <br>
    <mat-checkbox *ngIf="isApproved" formControlName="approved" (change)="checkAprroved($event)">
      Phê duyệt kết quả
    </mat-checkbox>
  </form>

  <h4 class="fw-500 mt-1"> File kết quả </h4>
  <div class="frame-upload-file well my-drop-zone">
    <!-- <div class="drag_upload_btn" [ngClass]="{'no_boder': uploaded == true}">
      <button mat-button [ngClass]="{'btn_uploaded': uploaded == true, 'clear_img_queue': uploaded == false}">
        <mat-icon> cloud_upload </mat-icon>
        Kéo thả tệp tin hoặc <a href="">Chọn từ thư viện</a> hoặc <a href="">Tải lên</a>
      </button>
      <input id="img_upload" name="img_upload[]" type='file' (change)="onFileSelected($event)" multiple accept="file_extension|image/*" value="{{blankVal}}">
    </div> -->

    <span class="hidden-file" aria-hidden="true">
      <input type="file" #fileInput (change)="onFileSelected($event)" multiple accept="file_extension|image/*" value="{{blankVal}}" multiple/>
    </span>
    <div (click)="fileInput.click()">
      <span class="span-cloud-upload">
        <mat-icon fontSet="material-icons-outlined" class="icon-cloud"> cloud_upload </mat-icon>
        <button disabled class="btn-drop-drag"> Kéo thả tệp tin hoặc </button>
        <button class="btn-upload"> Chọn từ thư viện </button>
        <button disabled class="btn-drop-drag"> hoặc </button>
        <button class="btn-upload"> Tải lên </button>
      </span>
    </div>

    <div class="image_drag_upload_preview">
      <div class="list_uploaded" *ngFor="let file of filesInfo">
        <div class="img_items mat-elevation-z4" [ngStyle]="{'background-image': 'url('+ file.url +')'}"></div>
        <div class="img_control">
          <span class="file_name" matTooltip="{{ file.fullName }}" [matTooltipPosition]="'right'"> {{ file.name }} </span>
          <a mat-icon-button class="delete_img" align="end" (click)="removeItem(file.id)">
            <mat-icon> delete_outline </mat-icon>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="frame-upload-file well my-drop-zone" ng2FileDrop [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
                                  (fileOver)="fileOverBase($event)" [uploader]="uploader" (onFileDrop)="onFileSelected($event)">
    <table style="width: 100%; display: flex; justify-content: center">
      <tr>
        <div class="col-sm-9">
          <span class="hidden-file" aria-hidden="true">
            <input type="file" #fileInput ng2FileSelect [uploader]="uploader" (onFileSelected)="onFileSelected($event)" multiple/>
          </span>
          <div (click)="fileInput.click()">
            <span class="span-cloud-upload">
              <mat-icon fontSet="material-icons-outlined" class="icon-cloud"> cloud_upload </mat-icon>
              <button disabled class="btn-drop-drag"> Kéo thả tệp tin hoặc </button>
              <button class="btn-upload"> Chọn từ thư viện </button>
              <button disabled class="btn-drop-drag"> hoặc </button>
              <button class="btn-upload"> Tải lên </button>
            </span>
          </div>
        </div>
      </tr>
    </table>

    <div class="card-container">
      <mat-card class="mat-card-file short">
        <img mat-card-image src="../../../assets/img/imgFile.png" alt="">
        <mat-card-subtitle class="name-file"> image.png </mat-card-subtitle>
        <div class="mat-icon-delete">
          <mat-icon fontSet="material-icons-outlined"> delete </mat-icon>
        </div>
      </mat-card>

      <mat-card class="mat-card-file short">
        <img mat-card-image src="../../../assets/img/imgFile.png" alt="">
        <mat-card-subtitle class="name-file"> file_file_file.docx </mat-card-subtitle>
        <div class="mat-icon-delete">
          <mat-icon fontSet="material-icons-outlined"> delete </mat-icon>
        </div>
      </mat-card>

      <mat-card class="mat-card-file short">
        <img mat-card-image src="../../../assets/img/imgFile.png" alt="">
        <mat-card-subtitle class="name-file"> ketqua_ketqua.pdf </mat-card-subtitle>
        <div class="mat-icon-delete">
          <mat-icon fontSet="material-icons-outlined"> delete </mat-icon>
        </div>
      </mat-card>

      <div class="div-file-selected" *ngFor="let item of uploader.queue">
        <mat-card class="mat-card-file short">
          <img mat-card-image src="../../../assets/img/imgFile.png" alt="">
          <mat-card-subtitle class="name-file"> {{ item?.file?.name }} </mat-card-subtitle>
          <div class="mat-icon-delete" (click)="item.remove()">
            <mat-icon fontSet="material-icons-outlined"> delete </mat-icon>
          </div>
        </mat-card>
      </div>
    </div>
  </div> -->

  <mat-dialog-actions align="center">
    <button mat-button class="btn-cancel" (click)="onDismiss()"> Hủy bỏ </button>
    <button mat-button class="btn-update"> Cập nhật </button>
  </mat-dialog-actions>
</form>


